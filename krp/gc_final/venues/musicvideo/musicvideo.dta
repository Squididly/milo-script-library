#define kMusicVideoTypeJungle
(0)
#define kMusicVideoTypeMoon
(1)
#define kMusicVideoTypeOcean
(2)
{func
   show_jungle_backdrop
   {junglecam.part set_showing TRUE}
   {junglecam1.part set_showing TRUE}
   {jungle.view set_showing TRUE}
   {jungle_rr.view set_showing TRUE}
   {jungle_lr.view set_showing TRUE}
   {arena
      switch_anim
      set_floor.matanim
      (range 10000 10000)
      (scale 0.5)
      (blend 1)}
   {arena
      switch_anim
      set_wall.matanim
      (range 10000 10000)
      (scale 0.5)
      (blend 1)}
   {arena
      switch_anim
      venue_backdrop.envanim
      (range 10000 10000)
      (blend
         {level dtime_to_dtick 1400})}
   {if_else
      {< $arena.excitement kExcitementOkay}
      {arena
         delay_task
         {level dtime_to_dtick 1400}
         {arena
            blend_to_frame
            jungle.view
            1
            1400
            (severity 3)}}
      {if_else
         {== $arena.excitement kExcitementOkay}
         {arena
            delay_task
            {level dtime_to_dtick 1400}
            {arena
               blend_to_frame
               jungle.view
               2
               1400
               (severity 3)}}
         {arena
            delay_task
            {level dtime_to_dtick 1400}
            {arena
               blend_to_frame
               jungle.view
               3
               1400
               (severity 3)}}}}}
{func
   hide_jungle_backdrop
   {junglecam.part set_showing FALSE}
   {junglecam1.part set_showing FALSE}
   {arena
      blend_to_frame
      jungle.view
      0
      1400
      (severity 3)}
   {arena
      delay_task
      {level dtime_to_dtick 1400}
      {jungle.view set_showing FALSE}}
   {arena
      delay_task
      {level dtime_to_dtick 2800}
      {jungle_lr.view set_showing FALSE}}
   {arena
      delay_task
      {level dtime_to_dtick 2800}
      {jungle_rr.view set_showing FALSE}}}
{func
   jungle_bad
   {arena
      blend_to_frame
      jungle.view
      1
      1400
      (severity 3)}}
{func
   jungle_lights_bad
   {arena
      switch_anim
      lighting_rig1.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig2.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig3.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_TEST.envanim
      (range 40000 40000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_l.litanim
      (range 10000 10000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_r.litanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_bck.litanim
      (range 10000 10000)
      (blend
         {level dtime_to_dtick 1400})}
   {monkeys.view set_showing FALSE}}
{func
   jungle_okay
   {arena
      blend_to_frame
      jungle.view
      2
      1400
      (severity 3)}}
{func
   jungle_lights_okay
   {arena
      switch_anim
      lighting_rig1.envanim
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig2.envanim
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig3.envanim
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_TEST.envanim
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_l.litanim
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_r.litanim
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_bck.litanim
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {jungle.view set_showing TRUE}
   {monkeys.view set_showing FALSE}}
{func
   jungle_great
   {arena
      blend_to_frame
      jungle.view
      3
      1400
      (severity 3)}}
{func
   jungle_lights_great
   {arena
      switch_anim
      lighting_rig1.envanim
      (loop 10000 11920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig2.envanim
      (loop 10000 11920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig3.envanim
      (loop 10000 11920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_TEST.envanim
      (loop 10000 11920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_l.litanim
      (loop 10000 11920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_r.litanim
      (loop 10000 11920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_bck.litanim
      (loop 10000 11920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {monkeys.view set_showing TRUE}}
{func
   show_moon_backdrop
   {mooncam.part set_showing TRUE}
   {moon.view set_showing TRUE}
   {moon_rr.view set_showing TRUE}
   {moon_lr.view set_showing TRUE}
   {stars_group01.view set_showing TRUE}
   {stars_group02.view set_showing TRUE}
   {arena
      switch_anim
      venue_backdrop.envanim
      (range 20000 20000)
      (blend 1400)}
   {arena
      switch_anim
      set_floor.matanim
      (range 20000 20000)
      (blend 1)}
   {arena
      switch_anim
      set_wall.matanim
      (range 20000 20000)
      (blend 1)}
   {if_else
      {< $arena.excitement kExcitementOkay}
      {arena
         delay_task
         {level dtime_to_dtick 1400}
         {arena
            blend_to_frame
            moon.view
            5
            1400
            (severity 3)}}
      {if_else
         {== $arena.excitement kExcitementOkay}
         {arena
            delay_task
            {level dtime_to_dtick 1400}
            {arena
               blend_to_frame
               moon.view
               6
               1400
               (severity 3)}}
         {arena
            delay_task
            {level dtime_to_dtick 1400}
            {arena
               blend_to_frame
               moon.view
               7
               1400
               (severity 3)}}}}}
{func
   hide_moon_backdrop
   {mooncam.part set_showing FALSE}
   {stars_group01.view set_showing FALSE}
   {stars_group02.view set_showing FALSE}
   {arena
      blend_to_frame
      moon.view
      0
      1400
      (severity 3)}
   {arena
      delay_task
      {level dtime_to_dtick 1400}
      {moon.view set_showing FALSE}}
   {arena
      delay_task
      {level dtime_to_dtick 1400}
      {star01.part set_showing FALSE}}
   {arena
      delay_task
      {level dtime_to_dtick 1400}
      {star02.part set_showing FALSE}}
   {arena
      delay_task
      {level dtime_to_dtick 2800}
      {moon_lr.view set_showing FALSE}}
   {arena
      delay_task
      {level dtime_to_dtick 2800}
      {moon_rr.view set_showing FALSE}}}
{func
   moon_bad
   {arena
      blend_to_frame
      moon.view
      5
      1400
      (severity 3)}
   {arena
      switch_anim
      venue_backdrop.matanim
      (loop 20000 22800)
      (scale 0.25)
      (blend 1)}}
{func
   moon_lights_bad
   {arena
      switch_anim
      lighting_rig1.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig2.envanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig3.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_TEST.envanim
      (range 40000 40000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_l.litanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_r.litanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_bck.litanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      set_floor.matanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      set_wall.matanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Alien_head.tnm
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Alien_hands.tnm
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Alien_body.tnm
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}}
{func
   moon_okay
   {arena
      blend_to_frame
      moon.view
      6
      1400
      (severity 3)}
   {arena
      blend_to_frame
      water.view
      0
      1400
      (severity 3)}}
{func
   moon_lights_okay
   {arena
      switch_anim
      lighting_rig1.envanim
      (loop 20000 21920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig2.envanim
      (loop 20000 21920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig3.envanim
      (loop 20000 21920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_TEST.envanim
      (range 20000 20000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_l.litanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_r.litanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_bck.litanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      set_floor.matanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      set_wall.matanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Alien_head.tnm
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Alien_hands.tnm
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Alien_body.tnm
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}}
{func
   moon_great
   {arena
      blend_to_frame
      moon.view
      7
      1400
      (severity 3)}
   {arena
      blend_to_frame
      water.view
      0
      1400
      (severity 3)}}
{func
   moon_lights_great
   {arena
      switch_anim
      lighting_rig1.envanim
      (loop 20000 21920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig2.envanim
      (loop 20000 21920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig3.envanim
      (loop 20000 21920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_TEST.envanim
      (loop 20000 21920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_l.litanim
      (loop 20000 21920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_r.litanim
      (loop 20000 21920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_bck.litanim
      (loop 20000 21920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      set_floor.matanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      set_wall.matanim
      (loop 20000 21920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Alien_head.tnm
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Alien_hands.tnm
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Alien_body.tnm
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}}
{func
   show_water_backdrop
   {watercam.part set_showing TRUE}
   {water00.part set_showing TRUE}
   {water01.part set_showing TRUE}
   {water02.part set_showing TRUE}
   {water03.part set_showing TRUE}
   {fish.part set_showing TRUE}
   {watercam1.part set_showing TRUE}
   {water.view set_showing TRUE}
   {water_rr.view set_showing TRUE}
   {water_lr.view set_showing TRUE}
   {arena
      switch_anim
      set_floor.matanim
      (range 0 0)
      (scale 0.5)
      (blend 1)}
   {arena
      switch_anim
      set_wall.matanim
      (range 0 1920)
      (scale 0.5)
      (blend 1)}
   {arena
      switch_anim
      venue_backdrop.envanim
      (range 0 0)
      (scale 1)
      (blend
         {level dtime_to_dtick 1400})}
   {if_else
      {< $arena.excitement kExcitementOkay}
      {arena
         delay_task
         {level dtime_to_dtick 1400}
         {arena
            blend_to_frame
            water.view
            8
            1400
            (severity 3)}}
      {if_else
         {== $arena.excitement kExcitementOkay}
         {arena
            delay_task
            {level dtime_to_dtick 1400}
            {arena
               blend_to_frame
               water.view
               9
               1400
               (severity 3)}}
         {arena
            delay_task
            {level dtime_to_dtick 1400}
            {arena
               blend_to_frame
               water.view
               10
               1400
               (severity 3)}}}}}
{func
   hide_water_backdrop
   {watercam.part set_showing FALSE}
   {watercam1.part set_showing FALSE}
   {water00.part set_showing FALSE}
   {water01.part set_showing FALSE}
   {water02.part set_showing FALSE}
   {water03.part set_showing FALSE}
   {fish.part set_showing FALSE}
   {arena
      blend_to_frame
      water.view
      0
      1400
      (severity 3)}
   {arena
      switch_anim
      clamshell_top.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Mermaid_base.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      delay_task
      {level dtime_to_dtick 1400}
      {water.view set_showing FALSE}}
   {arena
      delay_task
      {level dtime_to_dtick 2800}
      {water_lr.view set_showing FALSE}}
   {arena
      delay_task
      {level dtime_to_dtick 2800}
      {water_rr.view set_showing FALSE}}}
{func
   water_bad
   {arena
      blend_to_frame
      water.view
      8
      1400
      (severity 3)}}
{func
   water_lights_bad
   {arena
      switch_anim
      lighting_rig1.envanim
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig2.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig3.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_TEST.envanim
      (range 40000 40000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_l.litanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_r.litanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_bck.litanim
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Crab_body.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Crab_hands.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      mermaid_bone_bicep.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      mermaid_bone_elbow.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      mermaid_bone_hand.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      mermaid.partanim
      (range 0 0)}}
{func
   water_okay
   {arena
      blend_to_frame
      water.view
      9
      1400
      (severity 3)}}
{func
   water_lights_okay
   {arena
      switch_anim
      venue_TEST.envanim
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig1.envanim
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig2.envanim
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig3.envanim
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_l.litanim
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_r.litanim
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_bck.litanim
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Crab_body.tnm
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Crab_hands.tnm
      (loop 0 1920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      clamshell_top.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 2800})}
   {arena
      switch_anim
      Mermaid_base.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 2800})}
   {arena
      switch_anim
      mermaid_bone_bicep.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      mermaid_bone_elbow.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      mermaid_bone_hand.tnm
      (range 0 0)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      mermaid.partanim
      (range 0 0)}}
{func
   water_great
   {arena
      blend_to_frame
      water.view
      10
      1400
      (severity 3)}}
{func
   water_lights_great
   {arena
      switch_anim
      venue_TEST.envanim
      (loop 0 1920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig1.envanim
      (loop 0 1920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig2.envanim
      (loop 0 1920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig3.envanim
      (loop 0 1920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_l.litanim
      (loop 0 1920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_r.litanim
      (loop 0 1920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_bck.litanim
      (loop 0 1920)
      (scale 2)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Crab_body.tnm
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      Crab_hands.tnm
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {if_else
      {<
         {- $db.music_tick $switch_set_time}
         {level dtime_to_dtick 1400}}
      {do
         {arena
            switch_anim
            clamshell_top.tnm
            (range 0 0)
            (blend 1)}
         {arena
            switch_anim
            Mermaid_base.tnm
            (range 0 0)
            (blend 1)}
         {arena
            delay_task
            {level dtime_to_dtick 2800}
            {arena
               switch_anim
               clamshell_top.tnm
               (range 200 200)
               (blend
                  {level dtime_to_dtick 2800})}}
         {arena
            delay_task
            {level dtime_to_dtick 2800}
            {arena
               switch_anim
               Mermaid_base.tnm
               (range 200 200)
               (blend
                  {level dtime_to_dtick 2800})}}}
      {do
         {arena
            switch_anim
            clamshell_top.tnm
            (range 200 200)
            (blend
               {level dtime_to_dtick 2800})}
         {arena
            switch_anim
            Mermaid_base.tnm
            (range 200 200)
            (blend
               {level dtime_to_dtick 2800})}}}
   {arena
      switch_anim
      mermaid_bone_bicep.tnm
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      mermaid_bone_elbow.tnm
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      mermaid_bone_hand.tnm
      (loop 10000 11920)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      mermaid.partanim
      (range 1 1)}}
{func
   switch_set
   {set $switch_set_time $db.music_tick}
   {arena
      switch_anim
      venue_backdrop.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_TEST.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig1.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig2.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      lighting_rig3.envanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_bck.litanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_r.litanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      switch_anim
      venue_l.litanim
      (range 30000 30000)
      (blend
         {level dtime_to_dtick 1400})}
   {arena
      delay_task
      {level dtime_to_dtick 1400}
      {update_music_video_lights}}
   {set
      $current_flip
      {! $current_flip}}
   {switch
      $MusicVideoType
      (kMusicVideoTypeJungle
         {arena prepare_rot moon $current_flip}
         {arena
            blend_to_frame
            view_rot.view
            4
            2800
            (severity 3)}
         {arena
            delay_task
            {level dtime_to_dtick 2800}
            {jungle_lf.view set_showing FALSE}}
         {arena
            delay_task
            {level dtime_to_dtick 2800}
            {jungle_rf.view set_showing FALSE}}
         {hide_jungle_backdrop}
         {arena
            delay_task
            {level dtime_to_dtick 1400}
            {show_moon_backdrop}})
      (kMusicVideoTypeMoon
         {arena prepare_rot water $current_flip}
         {arena
            blend_to_frame
            view_rot.view
            8
            2800
            (severity 3)
            (severity 3)}
         {arena
            delay_task
            {level dtime_to_dtick 2800}
            {moon_lf.view set_showing FALSE}}
         {arena
            delay_task
            {level dtime_to_dtick 2800}
            {moon_rf.view set_showing FALSE}}
         {hide_moon_backdrop}
         {arena
            delay_task
            {level dtime_to_dtick 1400}
            {show_water_backdrop}})
      (kMusicVideoTypeOcean
         {arena prepare_rot jungle $current_flip}
         {arena
            blend_to_frame
            view_rot.view
            0
            2800
            (severity 3)}
         {arena
            delay_task
            {level dtime_to_dtick 2800}
            {water_lf.view set_showing FALSE}}
         {arena
            delay_task
            {level dtime_to_dtick 2800}
            {water_rf.view set_showing FALSE}}
         {hide_water_backdrop}
         {arena
            delay_task
            {level dtime_to_dtick 1400}
            {show_jungle_backdrop}})}
   {if_else
      {== $current_flip 0}
      {do
         {arena
            blend_to_frame
            spin_grp_l.tnm
            0
            2800
            (severity 3)}
         {arena
            blend_to_frame
            spin_grp_r.tnm
            0
            2800
            (severity 3)}}
      {do
         {arena
            blend_to_frame
            spin_grp_l.tnm
            1
            2800
            (severity 3)}
         {arena
            blend_to_frame
            spin_grp_r.tnm
            1
            2800
            (severity 3)}}}
   {set
      $MusicVideoType
      {'+' $MusicVideoType 1}}
   {if
      {> $MusicVideoType kMusicVideoTypeOcean}
      {set $MusicVideoType kMusicVideoTypeJungle}}}
{func
   turn_on_tiling
   {fire_spot_01.mesh set_showing FALSE}
   {arena show_floorspot 0 FALSE}
   {arena show_floorspot 1 FALSE}
   {if
      {== $arena.excitement kExcitementPeak}
      {arena replace_view venue.view trippy.view}}
   {set $TilingOn 1}
   #ifdef HX_EE
   {switch
      $TilingIndex
      (1
         {arena tile_bg tile_c.view}
         {set $TilingIndex 2})
      (2
         {arena tile_bg tile_e.view}
         {set $TilingIndex 3})
      (3
         {arena tile_bg tile_c.view}
         {set $TilingIndex 4})
      (4
         {arena tile_bg}
         {set $TilingIndex 5})
      (5
         {arena tile_bg tile_e.view}
         {set $TilingIndex 6})
      (6
         {arena tile_bg tile_c.view}
         {set $TilingIndex 7})
      (7
         {arena tile_bg tile_e.view}
         {set $TilingIndex 8})
      (8
         {arena tile_bg}
         {set $TilingIndex 1})}
   #else
   {arena tile_bg}
   #endif
   {update_trippy}}
{func
   turn_off_tiling
   {fire_spot_01.mesh set_showing TRUE}
   {arena show_floorspot 0 TRUE}
   {arena show_floorspot 1 TRUE}
   {arena replace_view trippy.view venue.view}
   {set $TilingOn 0}
   {arena tile_bg}}
{func
   update_music_video
   {switch
      $MusicVideoType
      (kMusicVideoTypeJungle
         {if_else
            {< $arena.excitement kExcitementOkay}
            {jungle_bad}
            {if_else
               {== $arena.excitement kExcitementOkay}
               {jungle_okay}
               {jungle_great}}})
      (kMusicVideoTypeMoon
         {if_else
            {< $arena.excitement kExcitementOkay}
            {moon_bad}
            {if_else
               {== $arena.excitement kExcitementOkay}
               {moon_okay}
               {moon_great}}})
      (kMusicVideoTypeOcean
         {if_else
            {< $arena.excitement kExcitementOkay}
            {water_bad}
            {if_else
               {== $arena.excitement kExcitementOkay}
               {water_okay}
               {water_great}}})}}
{func
   update_music_video_lights
   {switch
      $MusicVideoType
      (kMusicVideoTypeJungle
         {if_else
            {< $arena.excitement kExcitementOkay}
            {jungle_lights_bad}
            {if_else
               {== $arena.excitement kExcitementOkay}
               {jungle_lights_okay}
               {jungle_lights_great}}})
      (kMusicVideoTypeMoon
         {if_else
            {< $arena.excitement kExcitementOkay}
            {moon_lights_bad}
            {if_else
               {== $arena.excitement kExcitementOkay}
               {moon_lights_okay}
               {moon_lights_great}}})
      (kMusicVideoTypeOcean
         {if_else
            {< $arena.excitement kExcitementOkay}
            {water_lights_bad}
            {if_else
               {== $arena.excitement kExcitementOkay}
               {water_lights_okay}
               {water_lights_great}}})}}
{func
   great_hide
   {viewfinder_a.view set_showing TRUE}
   {viewfinder_parts.view set_showing TRUE}
   {camera_lg.view set_showing FALSE}}
{func
   great_show
   {viewfinder_a.view set_showing FALSE}
   {viewfinder_parts.view set_showing FALSE}
   {camera_lg.view set_showing TRUE}}
{func
   musicvideo_excitement
   {if
      {!= $arena.old_excitement $arena.excitement}
      {update_music_video}
      {update_music_video_lights}}}
{func
   update_trippy
   {Trippy_Jungle.view set_showing FALSE}
   {Trippy_Moon.view set_showing FALSE}
   {Trippy_Water.view set_showing FALSE}
   {switch
      $MusicVideoType
      (kMusicVideoTypeJungle
         {Trippy_Jungle.view set_showing TRUE}
         {switch
            $JungleTrippyType
            (1
               {Trippy_Jungle01.view set_showing FALSE}
               {Trippy_Jungle02.view set_showing TRUE}
               {trippy_jungle.matanim
                  set_min_max_loop
                  1
                  (min 0)
                  (max 1920)
                  (loop TRUE)}
               {set $JungleTrippyType 2})
            (2
               {Trippy_Jungle02.view set_showing FALSE}
               {Trippy_Jungle03.view set_showing TRUE}
               {trippy_jungle.matanim
                  set_min_max_loop
                  1
                  (min 20000)
                  (max 21920)
                  (loop TRUE)}
               {set $JungleTrippyType 3})
            (3
               {Trippy_Jungle03.view set_showing FALSE}
               {Trippy_Jungle01.view set_showing TRUE}
               {trippy_jungle.matanim
                  set_min_max_loop
                  1
                  (min 30000)
                  (max 31920)
                  (loop TRUE)}
               {set $JungleTrippyType 1})})
      (kMusicVideoTypeMoon
         {Trippy_Moon.view set_showing TRUE}
         {switch
            $MoonTrippyType
            (1
               {Trippy_Moon01.view set_showing FALSE}
               {Trippy_Moon02.view set_showing TRUE}
               {trippy_moon.matanim
                  set_min_max_loop
                  1
                  (min 0)
                  (max 1920)
                  (loop TRUE)}
               {set $MoonTrippyType 2})
            (2
               {Trippy_Moon02.view set_showing FALSE}
               {Trippy_Moon03.view set_showing TRUE}
               {trippy_moon.matanim
                  set_min_max_loop
                  1
                  (min 20000)
                  (max 21920)
                  (loop TRUE)}
               {set $MoonTrippyType 3})
            (3
               {Trippy_Moon03.view set_showing FALSE}
               {Trippy_Moon01.view set_showing TRUE}
               {set $MoonTrippyType 1}
               {trippy_moon.matanim
                  set_min_max_loop
                  1
                  (min 30000)
                  (max 31920)
                  (loop TRUE)})})
      (kMusicVideoTypeOcean
         {Trippy_Water.view set_showing TRUE}
         {switch
            $OceanTrippyType
            (1
               {Trippy_Water01.view set_showing FALSE}
               {Trippy_Water02.view set_showing TRUE}
               {Trippy_Water03.view set_showing FALSE}
               {trippy_water.matanim
                  set_min_max_loop
                  1
                  (min 0)
                  (max 1920)
                  (loop TRUE)}
               {trippy_water.matanim
                  set_scale_offset
                  0
                  (scale 2)
                  (offset 0)}
               {set $OceanTrippyType 2})
            (2
               {Trippy_Water01.view set_showing FALSE}
               {Trippy_Water02.view set_showing FALSE}
               {Trippy_Water03.view set_showing TRUE}
               {trippy_water.matanim
                  set_min_max_loop
                  1
                  (min 20000)
                  (max 21920)
                  (loop TRUE)}
               {trippy_water.matanim
                  set_scale_offset
                  0
                  (scale 2)
                  (offset 0)}
               {set $OceanTrippyType 3})
            (3
               {Trippy_Water03.view set_showing FALSE}
               {Trippy_Water01.view set_showing TRUE}
               {Trippy_Water02.view set_showing FALSE}
               {trippy_water.matanim
                  set_min_max_loop
                  1
                  (min 30000)
                  (max 31920)
                  (loop TRUE)}
               {trippy_water.matanim
                  set_scale_offset
                  0
                  (scale 1)
                  (offset 0)}
               {set $OceanTrippyType 1})})}}
{arena
   add_handlers
   (terminate
      {delete show_jungle_backdrop}
      {delete hide_jungle_backdrop}
      {delete jungle_bad}
      {delete jungle_lights_bad}
      {delete jungle_okay}
      {delete jungle_lights_okay}
      {delete jungle_great}
      {delete jungle_lights_great}
      {delete show_moon_backdrop}
      {delete hide_moon_backdrop}
      {delete moon_bad}
      {delete moon_lights_bad}
      {delete moon_okay}
      {delete moon_lights_okay}
      {delete moon_great}
      {delete moon_lights_great}
      {delete show_water_backdrop}
      {delete hide_water_backdrop}
      {delete water_bad}
      {delete water_lights_bad}
      {delete water_okay}
      {delete water_lights_okay}
      {delete water_great}
      {delete water_lights_great}
      {delete switch_set}
      {delete turn_on_tiling}
      {delete turn_off_tiling}
      {delete update_music_video}
      {delete update_music_video_lights}
      {delete great_show}
      {delete great_hide}
      {delete musicvideo_excitement}
      {delete update_trippy})
   (init
      #ifdef HX_GC
      {singer0.env remove_light char_r.lit}
      {singer1.env remove_light char_r.lit}
      #endif
      {set $switch_set_time 0}
      {set
         $switch_set_time_min
         {level dtime_to_dtick 4200}}
      {set $current_flip 0}
      {set $MusicVideoType kMusicVideoTypeJungle}
      {set $JungleTrippyType 1}
      {set $MoonTrippyType 1}
      {set $OceanTrippyType 1}
      {set $TilingOn 0}
      {set $TilingIndex 1}
      {arena tile_bg}
      {venue.view remove_anim jungle.view}
      {venue.view remove_anim water.view}
      {venue.view remove_anim moon.view}
      {venue.view remove_anim view_rot.view}
      {venue.view remove_anim venue_backdrop.envanim}
      {venue.view remove_anim set_floor.matanim}
      {venue.view remove_anim set_wall.matanim}
      {venue.view remove_anim venue_TEST.envanim}
      {venue.view remove_anim lighting_rig1.envanim}
      {venue.view remove_anim lighting_rig2.envanim}
      {venue.view remove_anim venue_bck.litanim}
      {venue.view remove_anim venue_l.litanim}
      {venue.view remove_anim venue_r.litanim}
      {venue.view remove_anim spin_grp_l.tnm}
      {venue.view remove_anim spin_grp_r.tnm}
      {venue.view remove_anim Crab_body.tnm}
      {venue.view remove_anim Crab_hands.tnm}
      {venue.view remove_anim mermaid.partanim}
      {venue.view remove_anim clamshell_top.tnm}
      {venue.view remove_anim Mermaid_base.tnm}
      {venue.view remove_anim mermaid_bone_bicep.tnm}
      {venue.view remove_anim mermaid_bone_elbow.tnm}
      {venue.view remove_anim mermaid_bone_hand.tnm}
      {venue.view remove_anim Alien_hands.tnm}
      {venue.view remove_anim Alien_head.tnm}
      {venue.view remove_anim Alien_body.tnm}
      {viewfinder.matanim set_frame 1}
      {Trippy_Jungle.view set_showing FALSE}
      {Trippy_Jungle01.view set_showing FALSE}
      {Trippy_Jungle02.view set_showing FALSE}
      {Trippy_Jungle03.view set_showing FALSE}
      {Trippy_Moon.view set_showing FALSE}
      {Trippy_Moon01.view set_showing FALSE}
      {Trippy_Moon02.view set_showing FALSE}
      {Trippy_Moon03.view set_showing FALSE}
      {Trippy_Water.view set_showing FALSE}
      {Trippy_Water01.view set_showing FALSE}
      {Trippy_Water02.view set_showing FALSE}
      {Trippy_Water03.view set_showing FALSE}
      {jungle.view set_frame 2}
      {arena init_blend_frame jungle.view 2}
      {arena prepare_rot jungle 0}
      {jungle_okay}
      {jungle_lights_okay}
      {jungle.view set_showing TRUE}
      {jungle_lf.view set_showing TRUE}
      {jungle_rf.view set_showing TRUE}
      {jungle_lr.view set_showing TRUE}
      {jungle_rr.view set_showing TRUE}
      {monkeys.view set_showing FALSE}
      {dummy_lower_jungle.tnm set_frame 2}
      {dummy_upper_jungle01.tnm set_frame 2}
      {dummy_upper_jungle02.tnm set_frame 2}
      {arena
         switch_anim
         set_floor.matanim
         (range 10000 10000)
         (scale 0.5)
         (blend 1)}
      {arena
         switch_anim
         set_wall.matanim
         (range 10000 10000)
         (scale 0.5)
         (blend 1)}
      {arena
         switch_anim
         venue_backdrop.envanim
         (range 10000 10000)
         (blend 1)}
      {show_jungle_backdrop}
      {moon.view set_frame 0}
      {arena init_blend_frame moon.view 0}
      {arena prepare_rot moon 1}
      {moon.view set_showing FALSE}
      {moon_lf.view set_showing FALSE}
      {moon_rf.view set_showing FALSE}
      {moon_lr.view set_showing FALSE}
      {moon_rr.view set_showing FALSE}
      {stars_group01.view set_showing FALSE}
      {stars_group02.view set_showing FALSE}
      {hide_moon_backdrop}
      {water.view set_frame 0}
      {arena init_blend_frame water.view 0}
      {clamshell_top.tnm set_frame 0}
      {Mermaid_base.tnm set_frame 0}
      {arena prepare_rot water 0}
      {water.view set_showing FALSE}
      {water_lf.view set_showing FALSE}
      {water_rf.view set_showing FALSE}
      {water_lr.view set_showing FALSE}
      {water_rr.view set_showing FALSE}
      {arena
         switch_anim
         mermaid.partanim
         (range 0 0)
         (blend 1)}
      {hide_water_backdrop}
      {view_rot.view set_frame 0}
      {arena init_blend_frame view_rot.view 0}
      {spin_grp_l.tnm set_frame 0}
      {spin_grp_r.tnm set_frame 0}
      {rnd set_clear_color 0 0 0})
   (venue_bad
      {musicvideo_excitement})
   (venue_ok
      {musicvideo_excitement})
   (venue_great
      {musicvideo_excitement})
   (venue_boot
      {musicvideo_excitement})
   (chorus
      {if
         {>
            {- $db.music_tick $switch_set_time}
            $switch_set_time_min}
         {switch_set}})
   (force_set_change
      {if
         {>
            {- $db.music_tick $switch_set_time}
            $switch_set_time_min}
         {switch_set}})
   (intro_end
      {set $switch_set_time $db.music_tick})
   (game_over
      {arena
         switch_anim
         viewfinder.matanim
         (range 0 0)
         (blend
            {level dtime_to_dtick 2800})}
      {lighting_rig.view set_showing TRUE}
      {turn_off_tiling}
      {great_show})
   (phrase_end
      {if
         {&&
            {== $MusicVideoType kMusicVideoTypeJungle}
            {>= $arena.excitement kExcitementGreat}}
         {arena ignite_fire}})
   (venue_switch_cam
      {if_else
         {&&
            {>= $arena.excitement kExcitementGreat}
            {!=
               {arena cam_msg}
               "Win"}
            {!=
               {arena cam_msg}
               "Win_great"}}
         {great_hide}
         {great_show}}
      {if_else
         {&&
            {>= $arena.excitement kExcitementPeak}
            {!=
               {arena cam_msg}
               "Win"}
            {!=
               {arena cam_msg}
               "Win_great"}}
         {lighting_rig.view set_showing FALSE}
         {lighting_rig.view set_showing TRUE}}
      {if_else
         {&&
            {> $arena.excitement kExcitementGreat}
            {!=
               {arena cam_msg}
               "Win"}
            {!=
               {arena cam_msg}
               "Win_great"}}
         {turn_on_tiling}
         {turn_off_tiling}}
      {if_else
         {&&
            {'||'
               {==
                  {arena cam_msg}
                  "Right char 0"}
               {==
                  {arena cam_msg}
                  "Right char 1"}
               {==
                  {arena cam_msg}
                  "Right char 2"}
               {==
                  {arena cam_msg}
                  "Right char 3"}
               {==
                  {arena cam_msg}
                  "Right char 4"}
               {==
                  {arena cam_msg}
                  "Right char 5"}
               {==
                  {arena cam_msg}
                  "Right char 6"}
               {==
                  {arena cam_msg}
                  "Right char 7"}}
            {!= $db.rule_set kRuleDuet}
            {!=
               {the_db is_practice_mode}
               TRUE}}
         {cam_1.view set_showing TRUE}
         {cam_1.view set_showing FALSE}}
      {if_else
         {&&
            {'||'
               {==
                  {arena cam_msg}
                  "Left char 0"}
               {==
                  {arena cam_msg}
                  "Left char 1"}
               {==
                  {arena cam_msg}
                  "Left char 2"}
               {==
                  {arena cam_msg}
                  "Left char 3"}
               {==
                  {arena cam_msg}
                  "Left char 4"}
               {==
                  {arena cam_msg}
                  "Left char 5"}
               {==
                  {arena cam_msg}
                  "Left char 6"}
               {==
                  {arena cam_msg}
                  "Left char 7"}}
            {!= $db.rule_set kRuleDuet}
            {!=
               {the_db is_practice_mode}
               TRUE}}
         {cam_2.view set_showing TRUE}
         {cam_2.view set_showing FALSE}})}